{"ast":null,"code":"import { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\n\nclass AuthLogic {\n  constructor() {\n    this.getUserAuth = () => {\n      return this.firebaseAuth;\n    };\n\n    this.getGoogleAuthProvider = () => {\n      return this.googleProvider;\n    };\n\n    this.firebaseAuth = getAuth();\n    this.googleProvider = new GoogleAuthProvider(); //this.githubProvider = new GithubAuthProvider();\n  }\n\n  logout() {\n    this.firebaseAuth.signOut();\n  }\n\n  getProvider(providerName) {\n    switch (providerName) {\n      case \"Google\":\n        return this.googleProvider;\n\n      case \"Github\":\n        return this.githubProvider;\n\n      default:\n        throw new Error(`not supported provider: ${providerName}`);\n    }\n  }\n\n}\n\nexport default AuthLogic;\nexport const loginGoogle = (firebaseAuth, googleProvider) => {\n  return new Promise((resolve, reject) => {\n    return signInWithPopup(firebaseAuth, googleProvider).then(result => {\n      const user = result.user;\n      console.log(user);\n      resolve(user);\n    }).catch(e => reject(e));\n  });\n};\nexport const logout = firebaseAuth => {\n  window.localStorage.removeItem(\"userId\");\n  return new Promise((resolve, reject) => {\n    firebaseAuth.signOut.catch(e => reject(alert(e + \":로그아웃 에러입니다\")));\n  });\n};\nexport const onAuthChange = firebaseAuth => {\n  return new Promise(resolve => {\n    firebaseAuth.onAuthStateChanged(user => {\n      onUserChanged(user);\n    });\n  });\n};","map":{"version":3,"names":["getAuth","signInWithPopup","GoogleAuthProvider","AuthLogic","constructor","getUserAuth","firebaseAuth","getGoogleAuthProvider","googleProvider","logout","signOut","getProvider","providerName","githubProvider","Error","loginGoogle","Promise","resolve","reject","then","result","user","console","log","catch","e","window","localStorage","removeItem","alert","onAuthChange","onAuthStateChanged","onUserChanged"],"sources":["C:/git_java20220415/Redux-Basic/src/components/service/authLogic.js"],"sourcesContent":["import { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nclass AuthLogic {\r\n  constructor() {\r\n    this.firebaseAuth = getAuth();\r\n    this.googleProvider = new GoogleAuthProvider();\r\n    //this.githubProvider = new GithubAuthProvider();\r\n  }\r\n  getUserAuth = () => {\r\n    return this.firebaseAuth;\r\n  };\r\n  getGoogleAuthProvider = () => {\r\n    return this.googleProvider;\r\n  };\r\n\r\n  logout() {\r\n    this.firebaseAuth.signOut();\r\n  }\r\n\r\n  getProvider(providerName) {\r\n    switch (providerName) {\r\n      case \"Google\":\r\n        return this.googleProvider;\r\n      case \"Github\":\r\n        return this.githubProvider;\r\n      default:\r\n        throw new Error(`not supported provider: ${providerName}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthLogic;\r\n\r\nexport const loginGoogle = (firebaseAuth, googleProvider) => {\r\n  return new Promise((resolve, reject) => {\r\n    return signInWithPopup(firebaseAuth, googleProvider)\r\n      .then((result) => {\r\n        const user = result.user;\r\n        console.log(user);\r\n        resolve(user);\r\n      })\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n\r\nexport const logout = (firebaseAuth) => {\r\n  window.localStorage.removeItem(\"userId\");\r\n  return new Promise((resolve, reject) => {\r\n    firebaseAuth.signOut.catch((e) =>\r\n      reject(alert(e + \":로그아웃 에러입니다\"))\r\n    );\r\n  });\r\n};\r\n\r\nexport const onAuthChange = (firebaseAuth) => {\r\n  return new Promise((resolve) => {\r\n    firebaseAuth.onAuthStateChanged((user) => {\r\n      onUserChanged(user);\r\n    });\r\n  });\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,QAA6D,eAA7D;;AAEA,MAAMC,SAAN,CAAgB;EACdC,WAAW,GAAG;IAAA,KAKdC,WALc,GAKA,MAAM;MAClB,OAAO,KAAKC,YAAZ;IACD,CAPa;;IAAA,KAQdC,qBARc,GAQU,MAAM;MAC5B,OAAO,KAAKC,cAAZ;IACD,CAVa;;IACZ,KAAKF,YAAL,GAAoBN,OAAO,EAA3B;IACA,KAAKQ,cAAL,GAAsB,IAAIN,kBAAJ,EAAtB,CAFY,CAGZ;EACD;;EAQDO,MAAM,GAAG;IACP,KAAKH,YAAL,CAAkBI,OAAlB;EACD;;EAEDC,WAAW,CAACC,YAAD,EAAe;IACxB,QAAQA,YAAR;MACE,KAAK,QAAL;QACE,OAAO,KAAKJ,cAAZ;;MACF,KAAK,QAAL;QACE,OAAO,KAAKK,cAAZ;;MACF;QACE,MAAM,IAAIC,KAAJ,CAAW,2BAA0BF,YAAa,EAAlD,CAAN;IANJ;EAQD;;AA1Ba;;AA6BhB,eAAeT,SAAf;AAEA,OAAO,MAAMY,WAAW,GAAG,CAACT,YAAD,EAAeE,cAAf,KAAkC;EAC3D,OAAO,IAAIQ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtC,OAAOjB,eAAe,CAACK,YAAD,EAAeE,cAAf,CAAf,CACJW,IADI,CACEC,MAAD,IAAY;MAChB,MAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;MACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACAJ,OAAO,CAACI,IAAD,CAAP;IACD,CALI,EAMJG,KANI,CAMGC,CAAD,IAAOP,MAAM,CAACO,CAAD,CANf,CAAP;EAOD,CARM,CAAP;AASD,CAVM;AAYP,OAAO,MAAMhB,MAAM,GAAIH,YAAD,IAAkB;EACtCoB,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,QAA/B;EACA,OAAO,IAAIZ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtCZ,YAAY,CAACI,OAAb,CAAqBc,KAArB,CAA4BC,CAAD,IACzBP,MAAM,CAACW,KAAK,CAACJ,CAAC,GAAG,aAAL,CAAN,CADR;EAGD,CAJM,CAAP;AAKD,CAPM;AASP,OAAO,MAAMK,YAAY,GAAIxB,YAAD,IAAkB;EAC5C,OAAO,IAAIU,OAAJ,CAAaC,OAAD,IAAa;IAC9BX,YAAY,CAACyB,kBAAb,CAAiCV,IAAD,IAAU;MACxCW,aAAa,CAACX,IAAD,CAAb;IACD,CAFD;EAGD,CAJM,CAAP;AAKD,CANM"},"metadata":{},"sourceType":"module"}