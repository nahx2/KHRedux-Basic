{"ast":null,"code":"import { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\n\nclass AuthLogic {\n  constructor() {\n    this.getUserAuth = () => {\n      return this.firebaseAuth;\n    };\n\n    this.getGoogleAuthProvider = () => {\n      return this.googleProvider;\n    };\n\n    this.firebaseAuth = getAuth();\n    this.googleProvider = new GoogleAuthProvider(); //this.githubProvider = new GithubAuthProvider()\n  }\n\n}\n\nexport default AuthLogic;\nexport const loginGoogle = (firebaseAuth, googleProvider) => {\n  return new Promise((resolve, reject) => {\n    signInWithPopup(firebaseAuth, googleProvider).then(result => {\n      const user = result.user;\n      console.log(user);\n      resolve(user);\n    }).catch(e => reject(e));\n  });\n};\nexport const logout = firebaseAuth => {\n  window.localStorage.removeItem(\"userId\");\n  return new Promise((resolve, reject) => {\n    firebaseAuth.signOut().catch(e => reject(alert(e + \": 로그아웃 에러입니다.\")));\n  });\n};\nexport const onAuthChange = firebaseAuth => {\n  return new Promise(resolve => {\n    firebaseAuth.onAuthStateChanged(user => {\n      resolve(user);\n    });\n  });\n};","map":{"version":3,"names":["getAuth","signInWithPopup","GoogleAuthProvider","AuthLogic","constructor","getUserAuth","firebaseAuth","getGoogleAuthProvider","googleProvider","loginGoogle","Promise","resolve","reject","then","result","user","console","log","catch","e","logout","window","localStorage","removeItem","signOut","alert","onAuthChange","onAuthStateChanged"],"sources":["C:/git_java20220415/Redux-Basic/src/components/service/authLogic.js"],"sourcesContent":["import { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\nclass AuthLogic {\r\n  constructor() {\r\n    this.firebaseAuth = getAuth();\r\n    this.googleProvider = new GoogleAuthProvider();\r\n    //this.githubProvider = new GithubAuthProvider()\r\n  }\r\n  getUserAuth = () => {\r\n    return this.firebaseAuth;\r\n  };\r\n  getGoogleAuthProvider = () => {\r\n    return this.googleProvider;\r\n  };\r\n}\r\n\r\nexport default AuthLogic;\r\n\r\nexport const loginGoogle = (firebaseAuth, googleProvider) => {\r\n  return new Promise((resolve, reject) => {\r\n    signInWithPopup(firebaseAuth, googleProvider)\r\n      .then((result) => {\r\n        const user = result.user;\r\n        console.log(user);\r\n        resolve(user);\r\n      })\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n\r\nexport const logout = (firebaseAuth) => {\r\n  window.localStorage.removeItem(\"userId\");\r\n  return new Promise((resolve, reject) => {\r\n    firebaseAuth\r\n      .signOut()\r\n      .catch((e) => reject(alert(e + \": 로그아웃 에러입니다.\")));\r\n  });\r\n};\r\n\r\nexport const onAuthChange = (firebaseAuth) => {\r\n  return new Promise((resolve) => {\r\n    firebaseAuth.onAuthStateChanged((user) => {\r\n      resolve(user);\r\n    });\r\n  });\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,QAA6D,eAA7D;;AACA,MAAMC,SAAN,CAAgB;EACdC,WAAW,GAAG;IAAA,KAKdC,WALc,GAKA,MAAM;MAClB,OAAO,KAAKC,YAAZ;IACD,CAPa;;IAAA,KAQdC,qBARc,GAQU,MAAM;MAC5B,OAAO,KAAKC,cAAZ;IACD,CAVa;;IACZ,KAAKF,YAAL,GAAoBN,OAAO,EAA3B;IACA,KAAKQ,cAAL,GAAsB,IAAIN,kBAAJ,EAAtB,CAFY,CAGZ;EACD;;AALa;;AAchB,eAAeC,SAAf;AAEA,OAAO,MAAMM,WAAW,GAAG,CAACH,YAAD,EAAeE,cAAf,KAAkC;EAC3D,OAAO,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtCX,eAAe,CAACK,YAAD,EAAeE,cAAf,CAAf,CACGK,IADH,CACSC,MAAD,IAAY;MAChB,MAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;MACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACAJ,OAAO,CAACI,IAAD,CAAP;IACD,CALH,EAMGG,KANH,CAMUC,CAAD,IAAOP,MAAM,CAACO,CAAD,CANtB;EAOD,CARM,CAAP;AASD,CAVM;AAYP,OAAO,MAAMC,MAAM,GAAId,YAAD,IAAkB;EACtCe,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,QAA/B;EACA,OAAO,IAAIb,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtCN,YAAY,CACTkB,OADH,GAEGN,KAFH,CAEUC,CAAD,IAAOP,MAAM,CAACa,KAAK,CAACN,CAAC,GAAG,eAAL,CAAN,CAFtB;EAGD,CAJM,CAAP;AAKD,CAPM;AASP,OAAO,MAAMO,YAAY,GAAIpB,YAAD,IAAkB;EAC5C,OAAO,IAAII,OAAJ,CAAaC,OAAD,IAAa;IAC9BL,YAAY,CAACqB,kBAAb,CAAiCZ,IAAD,IAAU;MACxCJ,OAAO,CAACI,IAAD,CAAP;IACD,CAFD;EAGD,CAJM,CAAP;AAKD,CANM"},"metadata":{},"sourceType":"module"}